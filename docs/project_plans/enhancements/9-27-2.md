# Enhancements and Fixes: Set 2

Date: 9-27-25

The following requests and fixes are proposed to improve the user experience and functionality of the application. Each item needs to be evaluated and designed thoroughly for implementation into the app. The implementation of each should then be planned.

## Notes

Remember that this app is still in active development with no active users or data. This means that significant changes can be made without worrying about breaking existing user workflows or data. However, it also means that we should be careful not to over-engineer solutions for problems that do not yet exist. The goal is to create a solid foundation that can be built upon as the app grows and evolves.

Also remember that you are the lead architect and developer of this app. You have the freedom to make decisions about the design and implementation of these features. However, it is important to consider the user experience and ensure that any changes made are intuitive and easy to use.

## Requests

### Filters

- The "Sort By" dropdown on the main dashboard should be placed within the filter bar, aligned to the right side. This will make it more accessible and consistent with other filtering options.
- The Status filter should be added to the filter bar on the main dashboard,, next to Filters. This should be a dropdown that allows selecting one or more statuses to filter Projects by. The available statuses should be configurable per workspace and fetched from the backend via the `/config` endpoint. The default statuses should include "Idea", "Discovery", "Draft", "Live", and "Archived".
- Filters within the filter bar should be multi-select where applicable. For example, the Tags filter should allow selecting multiple tags to filter by. The same applies to the Status filter and any other filters that support multi-selection, as well as across filter types.
- Each grouping of filter types within the Filter bar (ie Filters, Status, Tags, etc) should show as a "chip", and when one or more options are selected it should show a count. This chip should show the name of the filter type and the number of selected options if any (eg "Tags (3)" or "Tags" for 0). Clicking on the chip should open the dropdown to allow changing the selection. There should also be an "x" icon on the chip to clear all selections for that filter type.
- There should be a global "Clear All Filters" button within the filter bar that clears all selected filters across all filter types. This should be placed to the right of the filter chips.
- Tags in the sidebar should display as "chips" with automatic coloring. Clicking a Tag chip should apply that tag as a filter, updating the Projects view accordingly. Clicking an applied chip should remove that tag filter. If multiple tags are selected, the Projects view should show Projects that match any of the selected tags (logical OR). The Tags filter in the filter bar should also update to reflect the selected tags.

### Projects

- Within the Project screen, there should not be a "New File" button within the pane, relying only on the "New" button in the top nav bar. This will reduce clutter and make the UI cleaner.
- The Project view should have a "Recent Files" rail on the right side that shows the 5 most recently updated files across all Projects. This should be visible on the main dashboard and within a specific Project view. Clicking on a file in this rail should open it in the modal view.
- There should be a blank File Card at the end of the list of Files within a Project view, with a "+" icon and "New File" text. Clicking this card should open the "Quick Create" modal to create a new file within that Project.
- There should be "Project Templates" that can be selected when creating a new Project. These templates should pre-fill certain fields and settings for the Project based on the selected template, create specific files and directory structures, etc. Initially, there should be a "Blank" template that is selected by default, with plans to add more templates in the future. The "New Project" modal should have a dropdown to select a template, with "Blank" as the only option for now.
- Clicking the text of a Project or File in the sidebar Projects view should open it in the modal view, rather than navigating to a separate page. This will provide a more seamless experience and keep users within the context of the current screen. The expand/collapse icon should still function as it currently does, expanding or collapsing the list of Files within a Project; the icon should be made larger with a minimum clickable area of 24x24 pixels to improve usability.
- Clicking the title of a Project or File within the modal view should navigate to the persistent editor page for that Project or File. This will allow users to easily switch between the modal view and the full editor view as needed.
- Clicking the title of a Project or File within the editor view should open the modal view for that Project or File to make edits to the metadata or similar. This will provide a consistent experience and allow users to quickly access the modal view from anywhere within the app.

### File Creation

- The Quick Create modal should have a "Expand" button that opens the full "Create..." screen within the modal. This allows users to quickly create a file with default settings, but also have the option to add more details if needed without leaving the context of the current screen.
- On the "Create..." screen in the "Project" field, there should be an option to create a new Project directly from the dropdown. This should open the "New Project" modal, and upon creating the Project, it should automatically select it in the "Project" field of the "Create..." screen. This should also be the default blank option if no Project is selected.
- The "Content" field in the "Create..." screen should show the basic markdown formatting bar which will auto-apply selected formatting, including bold, italics, headings, lists, and links. This will allow users to add formatted content directly when creating a file. 
- There should be a backlink button in the markdown formatting bar within the "Content" field of the "Create..." screen. Clicking this button should open a dropdown of existing files within the selected Project to create a backlink. If no Project is selected, it should show a message indicating that a Project must be selected first. Selecting a file from the dropdown should insert the appropriate markdown link syntax into the content at the current cursor position.
- The "Tags" field in the "Create..." screen should show all existing Tags in the workspace and allow creating new tags directly from the input. When a user types a tag that does not exist, there should be an option to create it. This new tag should then be added to the list of available tags and automatically selected for the file being created.
- There should be a field for "Type" in the "Create..." screen that allows selecting a type for the file. This should be a dropdown with predefined options such as "PRD", "Task", "Idea", etc. The available types should be configurable per workspace and fetched from the backend via the `/config` endpoint. Users should be able to creatwe new types as needed from the dropdown.

## Fixes

- When a file is created, it immmediately is shown in the Project view. However, if the user clicks on the file before refreshing or navigating away and back, the file does not load. Once refreshing, the modal immediately opens showing the file content. This should be fixed so that newly created files can be viewed immediately without needing to refresh or navigate away and back.
